"use strict";const babel=require("prettier/plugins/babel");function alphabetSort(s,e){return s>e?1:s<e?-1:0}const sortObject=(s,e)=>alphabetSort(s.key.value,e.key.value),sortStringArray=(s,e)=>alphabetSort(s.value,e.value);function formatPackageJson(s){let e=b(s);return e=m$1(e),e}function formatTSConfig(s){let e=g$1(s);return e=m$1(e),e}function b(s){const e=["engines","scripts","bundledDependencies","peerDependencies","peerDependenciesMeta","dependencies","dependenciesMeta","optionalDependencies","devDependencies","overrides","resolutions"],o=["$schema","name","displayName","type","version","private","packageManager","description","author","publisher","license","funding","homepage","repository","bugs","keywords","categories","maintainers","contributors","donate","sponsor","preview","workspaces","languageName","publisher","publishConfig","sideEffects","cpu","os","man","bin","exports","main","module","imports","esnext","es2020","esm2020","fesm2020","es2015","esm2015","fesm2015","es5","esm5","fesm5","browser","umd","jsdelivr","unpkg","types","typings","typesVersions","directories","files",...e,"pnpm","husky","simple-git-hooks","lint-staged","eslintConfig"];let t=a(s,o);return t=e.reduce((r,n)=>f(r,n),t),t=sortExportsOfPackageJson(t),t}function sortExportsOfPackageJson(s){const e=s.find(o=>o.key.value==="exports");if(!e)return s;if(e.value.type==="ObjectExpression"){const o=["types","import","require","default"],t=r=>r.type==="ObjectProperty"&&r.value.properties?.some(n=>o.includes(n.key.value))||!1;t(e)?e.value.properties=a(e.value.properties,o):e.value.properties=e.value.properties.map(r=>{const n=r;return t(n)&&n.value.type==="ObjectExpression"&&(n.value.properties=a(n.value.properties,o)),r})}return s}function g$1(s){const e=["extends","compilerOptions","references","files","include","exclude"],o=["incremental","composite","tsBuildInfoFile","disableSourceOfProjectReferenceRedirect","disableSolutionSearching","disableReferencedProjectLoad","target","jsx","jsxFactory","jsxFragmentFactory","jsxImportSource","lib","moduleDetection","noLib","reactNamespace","useDefineForClassFields","emitDecoratorMetadata","experimentalDecorators","baseUrl","rootDir","rootDirs","customConditions","module","moduleResolution","moduleSuffixes","noResolve","paths","resolveJsonModule","resolvePackageJsonExports","resolvePackageJsonImports","typeRoots","types","allowArbitraryExtensions","allowImportingTsExtensions","allowUmdGlobalAccess","allowJs","checkJs","maxNodeModuleJsDepth","strict","strictBindCallApply","strictFunctionTypes","strictNullChecks","strictPropertyInitialization","allowUnreachableCode","allowUnusedLabels","alwaysStrict","exactOptionalPropertyTypes","noFallthroughCasesInSwitch","noImplicitAny","noImplicitOverride","noImplicitReturns","noImplicitThis","noPropertyAccessFromIndexSignature","noUncheckedIndexedAccess","noUnusedLocals","noUnusedParameters","useUnknownInCatchVariables","declaration","declarationDir","declarationMap","downlevelIteration","emitBOM","emitDeclarationOnly","importHelpers","importsNotUsedAsValues","inlineSourceMap","inlineSources","mapRoot","newLine","noEmit","noEmitHelpers","noEmitOnError","outDir","outFile","preserveConstEnums","preserveValueImports","removeComments","sourceMap","sourceRoot","stripInternal","allowSyntheticDefaultImports","esModuleInterop","forceConsistentCasingInFileNames","isolatedModules","preserveSymlinks","verbatimModuleSyntax","skipDefaultLibCheck","skipLibCheck"];let t=a(s,e);return t=f(s,"compilerOptions",o),t}function a(s,e){const o=[],t=s.filter(r=>e.includes(r.key.value)?!0:(o.push(r),!1));return t.sort((r,n)=>alphabetSort(e.indexOf(r.key.value),e.indexOf(n.key.value))),o.sort(sortObject),[...t,...o]}function m$1(s){const e=s.find(i=>i.key.value==="files");if(!e)return s;let o,t;const r=e.value,[n,l]=r.elements.reduce((i,p)=>{const u=p.value.toLowerCase();return u==="license"?(t=p,i):u==="readme"||u==="readme.md"?(o=p,i):(i[Number(u.startsWith("!"))].push(p),i)},[[],[]]);return n.sort(sortStringArray),l.sort(sortStringArray),o&&n.push(o),t&&n.push(t),r.elements=[...n,...l],s}function f(s,e,o=[]){const t=s.find(r=>r.key.value===e);return t&&t.value.type==="ObjectExpression"&&(o.length?t.value.properties=a(t.value.properties,o):t.value.properties.sort(sortObject)),s}function g(){const s=babel.parsers.json,e=/[/\\]?package\.json$/,o=/[/\\]?tsconfig\.json$/,t=/[/\\]?tsconfig\..*\.json$/;return{name:"prettier-plugin-json-sort",parsers:{json:{...s,parse(r,n){const{filepath:l}=n,i=s.parse(r,n);return e.test(l)&&(i.node.properties=formatPackageJson(i.node.properties)),(o.test(l)||t.test(l))&&(i.node.properties=formatTSConfig(i.node.properties)),i}}}}}const m=g();module.exports=m;
