import{parsers as y}from"prettier/plugins/babel";function u(t,e){return t>e?1:t<e?-1:0}const d=(t,e)=>u(t.key.value,e.key.value),m=(t,e)=>u(t.value,e.value);function g(t){let e=b(t);return e=f(e),e}function h(t){let e=x(t);return e=f(e),e}function b(t){const e=["engines","scripts","bundledDependencies","peerDependencies","peerDependenciesMeta","dependencies","dependenciesMeta","optionalDependencies","devDependencies","overrides","resolutions"],o=["$schema","name","displayName","type","version","private","packageManager","description","author","publisher","license","funding","homepage","repository","bugs","keywords","categories","maintainers","contributors","donate","sponsor","preview","workspaces","languageName","publisher","publishConfig","sideEffects","cpu","os","man","bin","exports","main","module","imports","esnext","es2020","esm2020","fesm2020","es2015","esm2015","fesm2015","es5","esm5","fesm5","browser","umd","jsdelivr","unpkg","types","typings","typesVersions","directories","files",...e,"pnpm","husky","simple-git-hooks","lint-staged","eslintConfig"];let s=l(t,o);return s=e.reduce((r,n)=>v(r,n),s),s=k(s),s}function k(t){const e=t.find(o=>o.key.value==="exports");if(!e)return t;if(e.value.type==="ObjectExpression"){const o=["types","import","require","default"],s=r=>r.type==="ObjectProperty"&&r.value.properties?.some(n=>o.includes(n.key.value))||!1;s(e)?e.value.properties=l(e.value.properties,o):e.value.properties=e.value.properties.map(r=>{const n=r;return s(n)&&n.value.type==="ObjectExpression"&&(n.value.properties=l(n.value.properties,o)),r})}return t}function x(t){const e=["extends","compilerOptions","references","files","include","exclude"],o=["incremental","composite","tsBuildInfoFile","disableSourceOfProjectReferenceRedirect","disableSolutionSearching","disableReferencedProjectLoad","target","jsx","jsxFactory","jsxFragmentFactory","jsxImportSource","lib","moduleDetection","noLib","reactNamespace","useDefineForClassFields","emitDecoratorMetadata","experimentalDecorators","baseUrl","rootDir","rootDirs","customConditions","module","moduleResolution","moduleSuffixes","noResolve","paths","resolveJsonModule","resolvePackageJsonExports","resolvePackageJsonImports","typeRoots","types","allowArbitraryExtensions","allowImportingTsExtensions","allowUmdGlobalAccess","allowJs","checkJs","maxNodeModuleJsDepth","strict","strictBindCallApply","strictFunctionTypes","strictNullChecks","strictPropertyInitialization","allowUnreachableCode","allowUnusedLabels","alwaysStrict","exactOptionalPropertyTypes","noFallthroughCasesInSwitch","noImplicitAny","noImplicitOverride","noImplicitReturns","noImplicitThis","noPropertyAccessFromIndexSignature","noUncheckedIndexedAccess","noUnusedLocals","noUnusedParameters","useUnknownInCatchVariables","declaration","declarationDir","declarationMap","downlevelIteration","emitBOM","emitDeclarationOnly","importHelpers","importsNotUsedAsValues","inlineSourceMap","inlineSources","mapRoot","newLine","noEmit","noEmitHelpers","noEmitOnError","outDir","outFile","preserveConstEnums","preserveValueImports","removeComments","sourceMap","sourceRoot","stripInternal","allowSyntheticDefaultImports","esModuleInterop","forceConsistentCasingInFileNames","isolatedModules","preserveSymlinks","verbatimModuleSyntax","skipDefaultLibCheck","skipLibCheck"];let s=l(t,e);return s=v(t,"compilerOptions",o),s}function l(t,e){const o=[],s=t.filter(r=>e.includes(r.key.value)?!0:(o.push(r),!1));return s.sort((r,n)=>u(e.indexOf(r.key.value),e.indexOf(n.key.value))),o.sort(d),[...s,...o]}function f(t){const e=t.find(i=>i.key.value==="files");if(!e)return t;let o,s;const r=e.value,[n,a]=r.elements.reduce((i,p)=>{const c=p.value.toLowerCase();return c==="license"?(s=p,i):c==="readme"||c==="readme.md"?(o=p,i):(i[Number(c.startsWith("!"))].push(p),i)},[[],[]]);return n.sort(m),a.sort(m),o&&n.push(o),s&&n.push(s),r.elements=[...n,...a],t}function v(t,e,o=[]){const s=t.find(r=>r.key.value===e);return s&&s.value.type==="ObjectExpression"&&(o.length?s.value.properties=l(s.value.properties,o):s.value.properties.sort(d)),t}function I(){const t=y.json,e=/[/\\]?package\.json$/,o=/[/\\]?tsconfig\.json$/,s=/[/\\]?tsconfig\..*\.json$/;return{name:"prettier-plugin-json-sort",parsers:{json:{...t,parse(r,n){const{filepath:a}=n,i=t.parse(r,n);return e.test(a)&&(i.node.properties=g(i.node.properties)),(o.test(a)||s.test(a))&&(i.node.properties=h(i.node.properties)),i}}}}}const j=I();export{j as default};
